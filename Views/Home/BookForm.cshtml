@{
    ViewData["Title"] = "Add Books to the Catalog";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="container-fluid">
    <div class="bg-dark py-5">
        <div class="container px-4 px-lg-5 my-5">
            <div class="text-center text-white">
                <h1 class="display-4 fw-bolder">Add Book</h1>
                <p class="lead fw-normal text-white-50 mb-0">Fill out the form to add a new book to the library.</p>
            </div>
        </div>
    </div>
    <div class="row">
        <form class="col-8 mx-auto">
            <div class="form-group">
                <label for="titleinput">Title</label>
                <input type="text" class="form-control" id="titleinput" placeholder="">
                <small id="titleHelp" class="form-text text-muted">Include the title and subtitle here.</small>
            </div>
            <div class="form-group">
                <label for="authorinput">Author Name</label>
                <input type="text" class="form-control" id="authorinput" placeholder="Firstname Lastname">
            </div>
            <div class="form-group">
                <label for="isbninput">ISBN Number</label>
                <input type="text" class="form-control" id="isbninput" placeholder="000-0-00-000000-0">
            </div>
            <button id="submit" type="submit" class="mt-3 btn btn-primary">Submit</button>
        </form>
    </div>
</div>

<script>
    document.getElementById("submit").onclick = function (e) {
        const book = {
            vcTitle: $('#titleinput').val(),
            vcAuthor: $('#authorinput').val(),
            vcISBN: $('isbninput').val()
        };
        $.ajax({
            type: 'POST', //HTTP POST Method
            url: '/Home/AddBook', // Controller/View
            data: {
                book: book
            },
            success: function (results) {
              console.log(results);
              window.location.reload();
            }
        });
    }
</script>